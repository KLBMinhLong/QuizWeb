<%- include("../partical/header", { title: "Admin - Subjects" }) %>

<!-- Breadcrumb -->
<nav class="breadcrumb">
  <a href="/" class="breadcrumb__item">Trang chủ</a>
  <span class="breadcrumb__separator">›</span>
  <a href="/admin" class="breadcrumb__item">Quản trị</a>
  <span class="breadcrumb__separator">›</span>
  <span class="breadcrumb__item breadcrumb__item--current"
    >Quản lý môn học</span
  >
</nav>

<div class="admin-header">
  <h1 class="admin-header__title">Quản lý môn học</h1>
</div>

<% if (error) { %>
<div class="error"><%= error %></div>
<% } %>

<div class="card mt-xl">
  <h3 class="card__title">Tạo môn học mới</h3>
  <form method="post" action="/admin/subjects/create">
    <div class="form-group">
      <label class="form-label">Tên môn học</label>
      <input
        name="name"
        class="form-input"
        placeholder="Ví dụ: Lịch sử Việt Nam"
        required
      />
    </div>
    <div class="form-group">
      <label class="form-label">Mô tả</label>
      <textarea
        name="description"
        class="form-textarea"
        placeholder="Mô tả ngắn về môn học..."
      ></textarea>
    </div>
    <button type="submit" class="btn btn-primary">Tạo môn học</button>
  </form>
</div>

<div class="card mt-xl">
  <h3 class="card__title">Danh sách môn học</h3>
  <% if (!subjects || subjects.length === 0) { %>
  <p class="card__content" style="color: var(--color-text-muted)">
    Chưa có môn học nào.
  </p>
  <% } else { %>
  <table class="data-table">
    <thead>
      <tr>
        <th>Tên môn</th>
        <th>Slug</th>
        <th>Mô tả</th>
      </tr>
    </thead>
    <tbody>
      <% subjects.forEach(function(s){ %>
      <tr>
        <td style="font-weight: 600"><%= s.name %></td>
        <td><code><%= s.slug %></code></td>
        <td style="color: var(--color-text-muted)">
          <%= s.description || '-' %>
        </td>
      </tr>
      <% }) %>
    </tbody>
  </table>
  <% } %>
</div>

<%- include("../partical/footer") %>
